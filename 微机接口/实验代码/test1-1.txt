PORTA EQU 0640H
PORTB EQU 0642H
CONTROL EQU 0646H

;STACK SEGMENT STACK
	
;STACK ENDS

CODE SEGMENT
	ASSUME CS:CODE

START:
	MOV AL,090H
	MOV DX,CONTROL
	OUT DX,AL
P:
	MOV DX,PORTA
	IN AL,DX
	MOV DX,PORTB
	OUT DX,AL
	
	CMP AL,0FFH
	JZ EXIT
	JMP P
	
EXIT:
	MOV AL,00H
	MOV DX,PORTB
	OUT DX,AL
	MOV AH,4CH
	INT 21H

CODE ENDS
END START