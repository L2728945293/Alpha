IOY1 EQU 0640H
PORTB EQU 0642H
CTL EQU 0646H
AD0809 EQU 0680H

SSTACK SEGMENT STACK
	DW 64 DUP(?)
SSTACK ENDS

PUBLIC VALUE
DATA SEGMENT
VALUE DB ?
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA

START:
	;8255 INITIAL
	MOV AL,90H
	MOV DX,CTL
	OUT DX,AL

	
	MOV AX,DATA
	MOV DS,AX
	
	MOV DX,AD0809
	OUT DX,AL
	CALL DELAY
	IN AL,DX
	MOV VALUE,AL
	MOV DX,PORTB
	OUT DX,AL
	
	JMP START
DELAY:
	PUSH CX
	PUSH AX
	MOV CX,100H
A5:
	MOV AX,0800H
A6:
	DEC AX
	JNZ A6
	LOOP A5
	POP AX
	POP CX
	RET 
CODE ENDS
	END START